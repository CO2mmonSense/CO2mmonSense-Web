<% require 'securerandom' %>
<% modal_id = "modal-#{SecureRandom.hex(8)}" %>

<button type="button" class="btn <%= danger ? "btn-danger" : "btn-primary" %> <%= "btn-sm" if small %>" data-bs-toggle="modal" data-bs-target="#<%= modal_id %>">
    <%= button_text %>
</button>

<div class="modal fade" id="<%= modal_id %>" tabindex="-1" aria-labelledby="<%= modal_id %>Label" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
        <div class="modal-header">
            <h1 class="modal-title fs-5" id="<%= modal_id %>Label">Warning</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <%= dialog %>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
            <%= button_to button_text, path, method: method, class: "btn #{ danger ? "btn-danger" : "btn-primary" }" %>
        </div>
        </div>
    </div>
</div>